<!doctype html><html lang=en-us data-theme><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Running OKD with CRC - CRC - Run OpenShift 4 on your laptop</title><meta name=description content="It has been long time since CRC with an updated OKD bundle was released. Last release was 1.x and not updated since then. During our 2.x development cycle, we made effort on CRC&rsquo;s side to decouple the bundles from the release artifacts. It allows us to create the bundle independently of the release and upload it to separate location.
Another change we made during 2.x is to add support for presets and from starting we are supporting podman and openshift preset with openshift as default."><link rel=icon type=image/x-icon href=https://crc.dev/blog/favicon.ico><link rel=apple-touch-icon-precomposed href=https://crc.dev/blog/favicon.png><link rel=stylesheet href=https://crc.dev/blog/css/style.min.63aba568b2393a8f5a364a508001b05c9412a603d1a0a69bd50f9944649f9c56.css integrity="sha256-Y6ulaLI5Oo9aNkpQgAGwXJQSpgPRoKab1Q+ZRGSfnFY="><script src=https://crc.dev/blog/js/script.min.74bf1a3fcf1af396efa4acf3e660e876b61a2153ab9cbe1893ac24ea6d4f94ee.js type=text/javascript integrity="sha256-dL8aP88a85bvpKzz5mDodrYaIVOrnL4Yk6wk6m1PlO4="></script><meta property="og:title" content="Running OKD with CRC"><meta property="og:description" content="It has been long time since CRC with an updated OKD bundle was released. Last release was 1.x and not updated since then. During our 2.x development cycle, we made effort on CRC&rsquo;s side to decouple the bundles from the release artifacts. It allows us to create the bundle independently of the release and upload it to separate location.
Another change we made during 2.x is to add support for presets and from starting we are supporting podman and openshift preset with openshift as default."><meta property="og:type" content="article"><meta property="og:url" content="https://crc.dev/blog/posts/2022-08-22-okd-on-crc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-22T09:14:10+05:30"><meta property="article:modified_time" content="2022-08-22T09:14:10+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="Running OKD with CRC"><meta name=twitter:description content="It has been long time since CRC with an updated OKD bundle was released. Last release was 1.x and not updated since then. During our 2.x development cycle, we made effort on CRC&rsquo;s side to decouple the bundles from the release artifacts. It allows us to create the bundle independently of the release and upload it to separate location.
Another change we made during 2.x is to add support for presets and from starting we are supporting podman and openshift preset with openshift as default."></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><h1 class=site-title><a href=/blog>CRC - Run OpenShift 4 on your laptop</a></h1><ul class=social-icons><li><a href=https://github.com/code-ready title=Github rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></li><li><a href=mailto:devtools-cdk@redhat.com title=Email rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M464 64H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 4e2V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V4e2H48z"/></svg></span></a></li><li><a href=https://crc.dev/blog/index.xml title=RSS rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328.0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765.0 183.105.0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686.0 38.981.0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></span></a></li></ul></div><nav><a href=https://crc.dev/blog/about/ title=About>About</a>
<a href=https://crc.dev/crc title>Docs</a>
<a href=https://mirror.openshift.com/pub/openshift-v4/clients/crc/ title>Releases</a>
<a href=https://crc.dev/blog/posts/ title=Archive>Archive</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><div class=post-header><header><h1 class="p-name post-title">Running OKD with CRC</h1></header></div><div class="content e-content"><p>It has been long time since CRC with an updated OKD bundle was released. Last release was <a href=https://www.okd.io/crc/#get-started>1.x</a> and
not updated since then. During our 2.x development cycle, we made effort on CRC&rsquo;s side to decouple the bundles from the release
artifacts. It allows us to create the bundle independently of the release and upload it to separate location.</p><p>Another change we made during 2.x is to add support for presets and from starting we are supporting <code>podman</code> and <code>openshift</code>
preset with <code>openshift</code> as default. With the recently released <a href=https://github.com/code-ready/crc/releases/tag/v2.7.1>crc 2.7.1</a>
an <code>okd</code> preset was added and users can now use same <code>crc</code> binary to start a OKD cluster.</p><p><em>A &ldquo;preset&rdquo; is a set of configuration parameters for the bundle to be used, the assigned memory and CPU and changes behaviour if needed for the startup process.</em></p><h1 id=how-it-works>How it works
<span><a href=#how-it-works><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h1><p>The CRC team created the OKD bundle for <a href=https://github.com/openshift/okd/releases/tag/4.11.0-0.okd-2022-07-29-154152>4.11.0-0.okd-2022-07-29-154152</a> release
and pushed it as container image to <a href=https://quay.io/repository/crcont/okd-bundle>quay</a>. With the <code>okd</code> preset, the user is now able to
run an OKD cluster locally similar to OCP.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ crc config set preset okd
</span></span><span style=display:flex><span>Changes to configuration property <span style=color:#e6db74>&#39;preset&#39;</span> are only applied when the CRC instance is created.
</span></span><span style=display:flex><span>If you already have a running CRC instance with different preset, <span style=color:#66d9ef>then</span> <span style=color:#66d9ef>for</span> this configuration change to take effect, delete the CRC instance with <span style=color:#e6db74>&#39;crc delete&#39;</span>, setup it with <span style=color:#e6db74>`</span>crc setup<span style=color:#e6db74>`</span> and start it with <span style=color:#e6db74>&#39;crc start&#39;</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ crc config view
</span></span><span style=display:flex><span>- consent-telemetry                     : yes
</span></span><span style=display:flex><span>- preset                                : okd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ crc setup
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>...<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>INFO Checking <span style=color:#66d9ef>if</span> /Users/prkumar/.crc/cache/crc_okd_vfkit_4.11.0-0.okd-2022-07-29-154152_arm64.crcbundle exists
</span></span><span style=display:flex><span>INFO Getting bundle <span style=color:#66d9ef>for</span> the CRC executable
</span></span><span style=display:flex><span>INFO Downloading crc_okd_vfkit_4.11.0-0.okd-2022-07-29-154152_arm64.crcbundle
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>...<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ crc start
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>...<span style=color:#f92672>]</span>
</span></span></code></pre></div><h1 id=where-were-at>Where we&rsquo;re at
<span><a href=#where-were-at><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h1><ul><li>Update the CRC related pages on OKD</li><li>Put CI in place to create OKD bundles for each release and upload it to quay.</li><li>Coordinate with OKD community to interact with users.</li></ul><p>As usual, we&rsquo;d like to get as much <a href=https://github.com/code-ready/crc/issues/new/choose>feedback</a> as possible on all this work!</p></div><div class=post-info><div class="post-date dt-published">2022-08-22</div><a class="post-hidden-url u-url" href=https://crc.dev/blog/posts/2022-08-22-okd-on-crc/>https://crc.dev/blog/posts/2022-08-22-okd-on-crc/</a>
<a href=https://crc.dev/blog/ class="p-name p-author post-hidden-author h-card" rel=me>CRC Contributors</a><div class=post-taxonomies></div></div></article><div class="pagination post-pagination"><div class="left pagination-item"><a href=/blog/posts/2022-09-26-bundle-option-in-crc/>Different bundle types option in crc</a></div><div class="right pagination-item"><a href=/blog/posts/2022-08-17-ocp-on-m1/>Running ocp on M1 machines</a></div></div></main><footer class=common-footer><div class=common-footer-bottom><div class=copyright><p>© CRC Contributors, 2022<br>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, theme <a target=_blank rel="noopener noreferrer" href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a>.<br></p></div><button class=theme-switcher>
Dark theme</button>
<script>const STORAGE_KEY="user-color-scheme",defaultTheme="light";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeButtonText()};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme=="dark"&&document.documentElement.setAttribute("data-theme","dark"),currentTheme=="auto"&&(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)),changeButtonText(),switchButton.addEventListener("click",switchTheme,!1)});function detectCurrentScheme(){return localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light"}function changeButtonText(){switchButton.textContent=currentTheme=="dark"?"Light theme":"Dark theme"}function switchTheme(){currentTheme=="dark"?(localStorage.setItem(STORAGE_KEY,"light"),document.documentElement.setAttribute("data-theme","light"),currentTheme="light"):(localStorage.setItem(STORAGE_KEY,"dark"),document.documentElement.setAttribute("data-theme","dark"),currentTheme="dark"),changeButtonText()}</script></div><p class="h-card vcard"><a href=https://crc.dev/blog/ class="p-name u-url url fn" rel=me>CRC Contributors</a></p></footer></div></body></html>